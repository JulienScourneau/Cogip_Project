{% extends 'baseDashboard.html.twig' %}

{% block titlePage %}
  Cogip - Dashboard Contact
{% endblock %}

{% block body %}
  <section class="dashboardForm">
    <h1 class="dashboardForm__title">
      New contact
    </h1>
    <form class="dashboardForm__form" action="/dashboardContact" method="post">
      <input class="dashboardForm__form__input"
        id=""
        type="text"
        name="contactName"
        placeholder="Name" />
      <input class="dashboardForm__form__input"
        id=""
        type="text"
        name="phoneNumber"
        placeholder="Phone" />
      <input class="dashboardForm__form__input"
        id=""
        type="text"
        name="contactEmail"
        placeholder="Email" />
      <select class="dashboardForm__form__input select" name="company" id="">
        <option value="none" selected disabled hidden>
          Select a Company
        </option>
        {% for elem in company %}
          <option value="{{ elem.id }}">
            {{ elem.name }}
          </option>
        {% endfor %}
      </select>
      <input class="dashboardForm__form__input"
        id=""
        type="file"
        name="file" />
      <input class="dashboardForm__form__button" type="submit" value="Save" />
    </form>
  </section>

  <section class='db__tables'>

    <article class="db__article__container contacts">

      <h2 class="db__article__title"> All contacts </h2>

      <div class="db__search__wrapper">
        <input class="db__searchbar" id="search" type="search" placeholder="Search contact...">
      </div>

      <div class="db__table__container" id="tableInvoices" role="table" aria-label="contacts">
        <div class="db__flex__table db__table__header">

          <div class="db__flex__row " style="width: calc(15%);">Name</div>
          <div class="db__flex__row  arrow" style="width: calc(15%);">Phone</div>
          <div class="db__flex__row " style="width: calc(26%);">Mail</div>
          <div class="db__flex__row " style="width: calc(16%);">Company</div>
          <div class="db__flex__row arrow" style="width: calc(17%);">Created at
            <img class="arrow__down" id="1" src="assets/img/icons/downward-arrow-white.png" alt=""/>
          </div>
          <div class="db__flex__row " style="width: calc(11%);"></div>

        </div>

        {% for elem in contacts %}
          <div class="db__flex__table table__content">

            <div class="db__flex__row row__content" style="width: calc(15%);">{{ elem.name }}</a></div>
            <div class="db__flex__row row__content" style="width: calc(15%);">{{ elem.phone }}</div>
            <div class="db__flex__row row__content" style="width: calc(26%);">{{ elem.email }}</div>
            <div class="db__flex__row row__content" style="width: calc(16%);">{{ elem.company }}</div>
            <div class="db__flex__row row__content" style="width: calc(17%);">{{ elem.created_at }}</div>
            <div class="db__flex__row row__content modifier" style="width: calc(11%);">
              <img class="modifier__icon" src="assets/img/icons/edit.png" alt="edit">
              <img class="modifier__icon" src="assets/img/icons/x-button.png" alt="Delete">
            </div>

          </div>
        {% endfor %}
      </div>

    </article>

  </section>
{% endblock %}
